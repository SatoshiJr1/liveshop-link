<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Synth√®se Vocale D√©sactiv√©e - LiveShop Link</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
        }
        .test-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
        }
        .success { color: #10b981; }
        .error { color: #ef4444; }
        .warning { color: #f59e0b; }
        .info { color: #3b82f6; }
        button {
            background: #8b5cf6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #7c3aed;
        }
        .status {
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: bold;
        }
        .status.success { background: rgba(16, 185, 129, 0.2); border: 1px solid #10b981; }
        .status.error { background: rgba(239, 68, 68, 0.2); border: 1px solid #ef4444; }
        .status.info { background: rgba(59, 130, 246, 0.2); border: 1px solid #3b82f6; }
        .status.warning { background: rgba(245, 158, 11, 0.2); border: 1px solid #f59e0b; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîä Test Synth√®se Vocale D√©sactiv√©e - LiveShop Link</h1>
        <p>Page de test pour v√©rifier que la synth√®se vocale est bien d√©sactiv√©e par d√©faut.</p>
        
        <div class="test-section">
            <h2>üîá √âtat de la Synth√®se Vocale</h2>
            <div id="voice-status" class="status info">V√©rification en cours...</div>
            
            <button onclick="checkVoiceStatus()">üîç V√©rifier l'√©tat</button>
            <button onclick="testVoiceDisabled()">üß™ Tester (ne doit pas parler)</button>
            <button onclick="enableVoice()">‚úÖ Activer la voix</button>
            <button onclick="disableVoice()">‚ùå D√©sactiver la voix</button>
        </div>

        <div class="test-section">
            <h2>üì± Test de Commande (Simulation)</h2>
            <p>Simule une nouvelle commande pour v√©rifier que la voix ne parle pas par d√©faut.</p>
            
            <button onclick="simulateNewOrder()">üõí Simuler nouvelle commande</button>
            <button onclick="simulateOrderPaid()">üí∞ Simuler commande pay√©e</button>
            
            <div id="order-status" class="status info">Aucune commande simul√©e</div>
        </div>

        <div class="test-section">
            <h2>üîß Configuration</h2>
            <div id="config-status"></div>
        </div>
    </div>

    <script>
        // √âtat de la synth√®se vocale
        let voiceEnabled = false;
        let speechSynthesis = window.speechSynthesis;

        // V√©rifier l'√©tat initial
        function checkVoiceStatus() {
            const status = document.getElementById('voice-status');
            
            // V√©rifier si speechSynthesis est disponible
            if (!speechSynthesis) {
                status.innerHTML = `
                    <strong>‚ùå SpeechSynthesis non disponible :</strong><br>
                    Votre navigateur ne supporte pas la synth√®se vocale<br>
                    ‚úÖ Pas de probl√®me de voix !
                `;
                status.className = 'status error';
                return;
            }

            // V√©rifier l'√©tat actuel
            if (voiceEnabled) {
                status.innerHTML = `
                    <strong>üîä Synth√®se vocale ACTIV√âE :</strong><br>
                    La voix parlera lors des notifications<br>
                    ‚ö†Ô∏è Ce n'est pas le comportement par d√©faut souhait√©
                `;
                status.className = 'status warning';
            } else {
                status.innerHTML = `
                    <strong>üîá Synth√®se vocale D√âSACTIV√âE :</strong><br>
                    La voix ne parlera PAS lors des notifications<br>
                    ‚úÖ Comportement par d√©faut correct !
                `;
                status.className = 'status success';
            }
            
            updateConfigStatus();
        }

        // Tester que la voix est d√©sactiv√©e
        function testVoiceDisabled() {
            const status = document.getElementById('voice-status');
            
            if (voiceEnabled) {
                status.innerHTML = `
                    <strong>üîä Test avec voix activ√©e :</strong><br>
                    La voix va parler maintenant...<br>
                    ‚ö†Ô∏è Ce n'est pas le comportement par d√©faut
                `;
                status.className = 'status warning';
                
                // Faire parler la voix
                const utterance = new SpeechSynthesisUtterance("Test de la synth√®se vocale activ√©e");
                utterance.lang = 'fr-FR';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            } else {
                status.innerHTML = `
                    <strong>üîá Test avec voix d√©sactiv√©e :</strong><br>
                    La voix ne parlera PAS<br>
                    ‚úÖ Comportement par d√©faut correct !
                `;
                status.className = 'status success';
                
                // Ne pas faire parler la voix
                console.log('üîá Synth√®se vocale d√©sactiv√©e - pas de parole');
            }
        }

        // Activer la voix
        function enableVoice() {
            voiceEnabled = true;
            checkVoiceStatus();
        }

        // D√©sactiver la voix
        function disableVoice() {
            voiceEnabled = false;
            checkVoiceStatus();
        }

        // Simuler une nouvelle commande
        function simulateNewOrder() {
            const status = document.getElementById('order-status');
            
            if (voiceEnabled) {
                status.innerHTML = `
                    <strong>üõí Nouvelle commande simul√©e :</strong><br>
                    Client: Test Client<br>
                    Produit: Produit Test<br>
                    Quantit√©: 2<br>
                    ‚ö†Ô∏è La voix va parler (activ√©e manuellement)
                `;
                status.className = 'status warning';
                
                // Faire parler la voix
                const message = "Nouvelle commande de Test Client. Produit Test. Quantit√© 2.";
                const utterance = new SpeechSynthesisUtterance(message);
                utterance.lang = 'fr-FR';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            } else {
                status.innerHTML = `
                    <strong>üõí Nouvelle commande simul√©e :</strong><br>
                    Client: Test Client<br>
                    Produit: Produit Test<br>
                    Quantit√©: 2<br>
                    ‚úÖ La voix ne parle PAS (d√©sactiv√©e par d√©faut)
                `;
                status.className = 'status success';
                
                // Ne pas faire parler la voix
                console.log('üîá Commande simul√©e - pas de parole (voix d√©sactiv√©e)');
            }
        }

        // Simuler une commande pay√©e
        function simulateOrderPaid() {
            const status = document.getElementById('order-status');
            
            if (voiceEnabled) {
                status.innerHTML = `
                    <strong>üí∞ Commande pay√©e simul√©e :</strong><br>
                    Commande #123<br>
                    Montant: 5000 FCFA<br>
                    ‚ö†Ô∏è La voix va parler (activ√©e manuellement)
                `;
                status.className = 'status warning';
                
                // Faire parler la voix
                const message = "Commande pay√©e. Montant 5000 FCFA.";
                const utterance = new SpeechSynthesisUtterance(message);
                utterance.lang = 'fr-FR';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            } else {
                status.innerHTML = `
                    <strong>üí∞ Commande pay√©e simul√©e :</strong><br>
                    Commande #123<br>
                    Montant: 5000 FCFA<br>
                    ‚úÖ La voix ne parle PAS (d√©sactiv√©e par d√©faut)
                `;
                status.className = 'status success';
                
                // Ne pas faire parler la voix
                console.log('üîá Commande pay√©e simul√©e - pas de parole (voix d√©sactiv√©e)');
            }
        }

        // Mettre √† jour le statut de configuration
        function updateConfigStatus() {
            const config = document.getElementById('config-status');
            
            config.innerHTML = `
                <h3>üîß Configuration actuelle :</h3>
                <div class="status ${voiceEnabled ? 'warning' : 'success'}">
                    <strong>Synth√®se vocale :</strong> ${voiceEnabled ? 'ACTIV√âE' : 'D√âSACTIV√âE'}
                </div>
                <div class="status info">
                    <strong>SpeechSynthesis :</strong> ${speechSynthesis ? 'Disponible' : 'Non disponible'}
                </div>
                <div class="status ${voiceEnabled ? 'warning' : 'success'}">
                    <strong>Comportement :</strong> ${voiceEnabled ? 'La voix parlera' : 'La voix ne parlera PAS'}
                </div>
                <div class="status success">
                    <strong>Comportement par d√©faut :</strong> D√âSACTIV√â ‚úÖ
                </div>
            `;
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // V√©rifier l'√©tat initial
            checkVoiceStatus();
            
            console.log('üîá Test de synth√®se vocale - √âtat initial:', {
                voiceEnabled: voiceEnabled,
                speechSynthesis: !!speechSynthesis,
                defaultBehavior: 'D√âSACTIV√â'
            });
        });
    </script>
</body>
</html>
