# Environment
NODE_ENV=production

# Server
PORT=3001

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/liveshop

# JWT
JWT_SECRET=your_super_secret_jwt_key_change_in_production

# Redis (OBLIGATOIRE pour Socket.IO adapter et BullMQ)
REDIS_URL=redis://default:password@your-redis-host:6379

# Web Push (VAPID keys - générer avec: npx web-push generate-vapid-keys)
VAPID_PUBLIC_KEY=your_vapid_public_key
VAPID_PRIVATE_KEY=your_vapid_private_key
VAPID_SUBJECT=mailto:contact@yourdomain.com

# CORS Origins (séparés par des virgules)
CORS_ORIGIN=https://livelink.store,https://space.livelink.store,https://api.livelink.store

# Frontend URLs
FRONTEND_URL=https://livelink.store
VENDOR_URL=https://space.livelink.store

# Cloudinary
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# PayDunya
PAYDUNYA_MODE=live
PAYDUNYA_MASTER_KEY=your_master_key
PAYDUNYA_PUBLIC_KEY_LIVE=your_public_key
PAYDUNYA_PRIVATE_KEY_LIVE=your_private_key
PAYDUNYA_TOKEN_LIVE=your_token
PAYMENTS_CALLBACK_URL=https://api.livelink.store/api/payments/webhooks/paydunya
PAYMENTS_RETURN_URL=https://livelink.store/paiement/succes
PAYMENTS_CANCEL_URL=https://livelink.store/paiement/annule

# SuperAdmin / Compte SuperAdmin
# FR: Au démarrage, si aucun utilisateur avec SUPERADMIN_PHONE n'existe, un compte superadmin est créé avec ces infos.
#     Si un utilisateur avec ce numéro existe déjà (peu importe son rôle), aucune modification n'est faite.
#     Pour changer de superadmin: 1) (optionnel) supprimer l'ancien utilisateur dans la base 2) mettre à jour les valeurs ci-dessous 3) redémarrer.
#     Si vous ne supprimez pas l'ancien et réutilisez le même numéro, rien ne sera créé.
# EN: On startup, if no user with SUPERADMIN_PHONE exists, a superadmin account is created using these values.
#     If a user with this phone already exists (any role), nothing is changed.
#     To rotate: (optionally) delete old user, update values below, restart.
#     Reusing an existing phone number will skip creation.
SUPERADMIN_PHONE=+221778325569
SUPERADMIN_NAME=Nachirou
SUPERADMIN_PIN=2468

# OTP / Vérification Numéro (Provider unifié dans otpService)
# OTP_PROVIDER peut être: console | whatsapp_cloud | twilio | callmebot | nexteranga
OTP_PROVIDER=nexteranga

# Nexteranga (service interne d'envoi OTP via WhatsApp)
# URL d'API (garde la valeur par défaut si inchangé)
NEXTERANGA_API_URL=https://konekt.nexteranga.com/send
# Secret fourni par le service (NE PAS COMMIT avec la vraie valeur en production)
NEXTERANGA_SECRET=e191d2e9-5c68-4e83-8232-2ea3aaad7ce0
# Nom de l'application affiché dans le message (optionnel, défaut Fitsen côté service)
NEXTERANGA_BUSINESS_NAME=LiveShop

# Option de redirection DEV (facultative): permet d'envoyer tous les OTP vers un seul numéro pour tests
#DEV_OTP_REDIRECT_TO=+221770000000

# Limites OTP (anti-abus)
# Délai minimal entre deux envois pour le même numéro (secondes)
OTP_SEND_COOLDOWN_SECONDS=60
# Nombre maximal d'envois OTP par numéro sur 1h
OTP_MAX_SENDS_PER_HOUR=5
# Tentatives maximum de vérification pour un même type (inscription / reset) avant blocage temporaire
OTP_MAX_ATTEMPTS=5
